            createNewsCard({
                title: article.title,
                description: article.description || article.content?.substring(0, 150) || 'Latest AI developments and news.',
                url: article.url,
                date: article.publishedAt,
                source: article.source?.name || 'News API',
                image: article.urlToImage || getAIPlaceholderImage(index)
            }, blogContainer);
        });
        
        console.log('‚úÖ News API loaded successfully');
    }
}

// Add typewriter effect for hero section
function initTypewriterEffect() {
    const subtitle = document.querySelector('.hero .subtitle');
    if (!subtitle) return;
    
    const originalText = subtitle.textContent;
    subtitle.textContent = '';
    
    let i = 0;
    const speed = 50; // typing speed in ms
    
    function typeWriter() {
        if (i < originalText.length) {
            subtitle.textContent += originalText.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
        }
    }
    
    // Start typing after a brief delay
    setTimeout(typeWriter, 1000);
}

// Add scroll animations for sections
function initScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe all sections
    document.querySelectorAll('section').forEach(section => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(20px)';
        section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(section);
    });
}

// Add project filter functionality
function initProjectFilter() {
    const projectCards = document.querySelectorAll('.project-card');
    const filterButtons = document.createElement('div');
    filterButtons.className = 'project-filters';
    filterButtons.innerHTML = `
        <button class="filter-btn active" data-filter="all">All Projects</button>
        <button class="filter-btn" data-filter="ai">AI Projects</button>
        <button class="filter-btn" data-filter="web">Web Apps</button>
        <button class="filter-btn" data-filter="automation">Automation</button>
    `;
    
    const projectsSection = document.querySelector('#projects');
    if (projectsSection && projectCards.length > 0) {
        projectsSection.insertBefore(filterButtons, document.querySelector('.projects-grid'));
        
        // Add CSS for filters
        const style = document.createElement('style');
        style.textContent = `
            .project-filters {
                display: flex;
                justify-content: center;
                gap: 0.5rem;
                margin: 1rem 0 2rem;
                flex-wrap: wrap;
            }
            
            .filter-btn {
                padding: 0.5rem 1rem;
                background: rgba(0, 255, 157, 0.1);
                border: 1px solid rgba(0, 255, 157, 0.3);
                color: var(--cyber-green);
                border-radius: 4px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-family: 'Share Tech Mono', monospace;
                font-size: 0.9rem;
            }
            
            .filter-btn:hover,
            .filter-btn.active {
                background: var(--cyber-green);
                color: var(--bg-dark);
                box-shadow: 0 0 15px var(--accent-glow);
            }
        `;
        document.head.appendChild(style);
        
        // Filter functionality
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const filter = btn.dataset.filter;
                
                projectCards.forEach(card => {
                    const categories = card.dataset.category || 'all';
                    if (filter === 'all' || categories.includes(filter)) {
                        card.style.display = 'block';
                        setTimeout(() => {
                            card.style.opacity = '1';
                            card.style.transform = 'translateY(0)';
                        }, 100);
                    } else {
                        card.style.opacity = '0';
                        card.style.transform = 'translateY(20px)';
                        setTimeout(() => {
                            card.style.display = 'none';
                        }, 300);
                    }
                });
            });
        });
    }
}

// Add skill progress bars
function initSkillProgress() {
    const skillsData = {
        'python': 85,
        'javascript': 70,
        'flask': 75,
        'docker': 80,
        'aws': 65,
        'postgresql': 70,
        'fastapi': 75,
        'git': 85
    };
    
    const skillTags = document.querySelectorAll('.skill-tag');
    skillTags.forEach(tag => {
        const skillName = tag.textContent.toLowerCase();
        if (skillsData[skillName]) {
            const progress = document.createElement('div');
            progress.className = 'skill-progress';
            progress.innerHTML = `
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${skillsData[skillName]}%"></div>
                </div>
                <span class="progress-text">${skillsData[skillName]}%</span>
            `;
            
            // Add CSS for progress bars
            const style = document.createElement('style');
            if (!document.querySelector('#progress-styles')) {
                style.id = 'progress-styles';
                style.textContent = `
                    .skill-progress {
                        display: none;
                        align-items: center;
                        gap: 0.5rem;
                        margin-top: 0.3rem;
                    }
                    
                    .progress-bar {
                        flex: 1;
                        height: 4px;
                        background: rgba(255, 255, 255, 0.1);
                        border-radius: 2px;
                        overflow: hidden;
                    }
                    
                    .progress-fill {
                        height: 100%;
                        background: var(--gradient);
                        border-radius: 2px;
                        transition: width 1s ease-in-out;
                    }
                    
                    .progress-text {
                        font-size: 0.7rem;
                        color: var(--cyber-green);
                        min-width: 2rem;
                    }
                    
                    .skill-tag:hover .skill-progress {
                        display: flex;
                    }
                `;
                document.head.appendChild(style);
            }
            
            tag.appendChild(progress);
        }
    });
}

// Add dark mode toggle
function initDarkModeToggle() {
    const toggle = document.createElement('button');
    toggle.id = 'darkModeToggle';
    toggle.innerHTML = 'üåô';
    toggle.title = 'Toggle Dark Mode';
    
    const style = document.createElement('style');
    style.textContent = `
        #darkModeToggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--bg-card);
            border: 1px solid var(--cyber-green);
            color: var(--cyber-green);
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px var(--accent-glow);
        }
        
        #darkModeToggle:hover {
            transform: scale(1.1) rotate(30deg);
            box-shadow: 0 0 25px var(--accent-glow);
        }
        
        .light-mode {
            --bg-dark: #0a0a0a;
            --bg-card: rgba(255, 255, 255, 0.95);
            --text-primary: #000000;
            --text-secondary: #333333;
        }
    `;
    document.head.appendChild(style);
    
    document.body.appendChild(toggle);
    
    toggle.addEventListener('click', () => {
        document.body.classList.toggle('light-mode');
        toggle.innerHTML = document.body.classList.contains('light-mode') ? '‚òÄÔ∏è' : 'üåô';
    });
}

// Add visitor counter
function initVisitorCounter() {
    const counter = document.createElement('div');
    counter.id = 'visitorCounter';
    counter.innerHTML = 'üëÅÔ∏è <span>0</span>';
    
    const style = document.createElement('style');
    style.textContent = `
        #visitorCounter {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--bg-card);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            border: 1px solid var(--cyber-green);
            color: var(--cyber-green);
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            z-index: 1000;
            box-shadow: 0 0 15px var(--accent-glow);
        }
        
        #visitorCounter span {
            font-weight: bold;
        }
    `;
    document.head.appendChild(style);
    
    document.body.appendChild(counter);
    
    // Simulate visitor count (in a real app, this would come from a backend)
    let count = Math.floor(Math.random() * 100) + 50;
    counter.querySelector('span').textContent = count;
    
    // Increment occasionally
    setInterval(() => {
        count++;
        counter.querySelector('span').textContent = count;
        counter.style.transform = 'scale(1.1)';
        setTimeout(() => {
            counter.style.transform = 'scale(1)';
        }, 200);
    }, 30000); // Every 30 seconds
}

// Enhanced initialization
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ Initializing Vance Frommer Portfolio...');
    
    // Core functionality
    loadNews();
    initMobileMenu();
    initAnimatedBackground();
    initSmoothScrolling();
    initTypewriterEffect();
    
    // Enhanced features
    setTimeout(() => {
        initScrollAnimations();
        initProjectFilter();
        initSkillProgress();
        initDarkModeToggle();
        initVisitorCounter();
    }, 1000);
    
    // Add loading animation
    const loadingScreen = document.createElement('div');
    loadingScreen.id = 'loadingScreen';
    loadingScreen.innerHTML = `
        <div class="loading-content">
            <div class="cyber-spinner"></div>
            <div class="loading-text">INITIALIZING SYSTEMS...</div>
        </div>
    `;
    
    const loadingStyle = document.createElement('style');
    loadingStyle.textContent = `
        #loadingScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .loading-content {
            text-align: center;
        }
        
        .cyber-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid transparent;
            border-top: 4px solid var(--cyber-green);
            border-right: 4px solid var(--cyber-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
            box-shadow: 0 0 20px var(--accent-glow);
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: var(--cyber-green);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            letter-spacing: 2px;
            text-shadow: 0 0 10px var(--accent-glow);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    `;
    document.head.appendChild(loadingStyle);
    document.body.appendChild(loadingScreen);
    
    // Remove loading screen after page loads
    window.addEventListener('load', () => {
        setTimeout(() => {
            loadingScreen.style.opacity = '0';
            setTimeout(() => {
                loadingScreen.remove();
            }, 500);
        }, 1000);
    });
});

// Performance optimization
let resizeTimeout;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
        const canvas = document.getElementById('bgCanvas');
        if (canvas) {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
    }, 250);
});

// Add keyboard shortcuts
document.addEventListener('keydown', (e) => {
    // Ctrl/Cmd + / to focus search (if added later)
    if ((e.ctrlKey || e.metaKey) && e.key === '/') {
        e.preventDefault();
        console.log('Search shortcut triggered');
    }
    
    // Escape to close mobile menu
    if (e.key === 'Escape') {
        const mobileNav = document.getElementById('mobile-nav');
        if (mobileNav && mobileNav.classList.contains('active')) {
            mobileNav.classList.remove('active');
        }
    }
});

// Error handling enhancement
window.addEventListener('error', function(e) {
    if (e.target.tagName === 'IMG') {
        console.log('Image failed to load:', e.target.src);
        if (e.target.parentElement.classList.contains('blog-image')) {
            const randomIndex = Math.floor(Math.random() * 10);
            e.target.parentElement.style.backgroundImage = `url('${getAIPlaceholderImage(randomIndex)}')`;
        } else if (e.target.classList.contains('tech-logo') || 
                   e.target.classList.contains('cert-logo') || 
                   e.target.classList.contains('skill-tag') && e.target.tagName === 'IMG') {
            e.target.style.display = 'none';
        }
    }
}, true);

// Add service worker for PWA capabilities (optional)
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').catch(err => {
            console.log('ServiceWorker registration failed: ', err);
        });
    });
}